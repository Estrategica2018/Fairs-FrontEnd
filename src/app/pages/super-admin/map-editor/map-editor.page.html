<ion-content id="ionContent" cdkDropList class="content-boundary">
   <ion-button color="light" class="full-screen-button" (click)="onToogleFullScreen()">
      <ion-icon name="contract-outline" *ngIf="fullScreen"></ion-icon>
      <ion-icon name="expand-outline" *ngIf="!fullScreen"></ion-icon>
   </ion-button>
   <ion-button color="light" class="goto-back-button" (click)="onToBackEditor(scene)">
      <ion-icon name="arrow-back-outline"></ion-icon>
   </ion-button>
   <ion-button *ngIf="this.bannerCopy.length > 0" color="warning" class="paste-button" (click)="onPasteBannerBtn()">
      Pegar
      <ion-icon name="clipboard-outline"></ion-icon>
   </ion-button>
   <ion-item [hidden]="!errors">
      <div class="alert alert-danger alert-dismissible">
         <a href="javascript:void(0)" class="close" aria-label="close" (click)="errors=null" title="close">×</a>
         <strong>Error!</strong> {{errors}}
      </div>
   </ion-item>
   <!--Scene Background Image-->
   <div class="div-container"  scroll-x="0" scroll-y="0">
      <div [ngStyle]="{
      'background-image': 'url(' + scene?.url_image + ')',
      'background-size': scene?.container?.w + 'px ' +scene?.container?.h+ 'px',
      'background-repeat': 'no-repeat',
      'width':scene?.container?.w + 'px', 
      'height': scene?.container?.h + 'px'
      }" (ionScroll)="logScrolling($event)"
      *ngIf="scene && scene.url_image">
   </div>
   <!--Scene Background Color-->
   <div [ngStyle]="{'width':scene?.container?.w + 'px', 'height': scene?.container?.h + 'px', 'background-color': scene?.backgroundColor}"
   *ngIf="scene && scene.backgroundColor && !scene.url_image">
   </div>
   </div>
   <!--Banner List-->
   <div *ngFor="let banner of scene?.banners;let i = index" class="banner">
      
     <div  (wheel)="onMouseWheel($event)"
      [ngClass]="{'cube': !banner.line, 'arrow cursor-pointer':banner.line}" 
      class="{{ banner.line ? (banner.line.style||'container-arrow--curve') : ''}}"
      id="banner-drag-{{banner.id}}"
     mwlDraggable (dragEnd)="dragBannerEnd($event,banner)"
     [ngStyle]="{
     'left': banner.position?.x + 'px',
     'top': banner.position?.y + 'px',
     'opacity': bannerSelectHover ? ( bannerSelectHover.id !== banner.id ?  ( banner.opacity || 1 ) * 0.6  : 1  ) : banner.opacity,
     'transform': 'rotateX(' + banner.rotation.x + 'deg) rotateY(' + banner.rotation.y + 'deg) rotateZ(' + banner.rotation.z + 'deg)'
     }">
       <!--if banner is line-->
        <div class="arrow__body" *ngIf="banner.line"
        [ngStyle]="{
        'border-width': banner?.line?.weight+'px 0 0 '+banner?.line?.weight+'px',
        'border-style': banner?.line?.type,
        'border-color': banner?.line?.color,
        'width': banner.size.x + 'px', 
        'height': banner.size.y + 'px'
        }"
        ></div>
       <!--if banner is banner-->
       <div class="cube__face cube__face--right square {{banner.class}}"
       [ngClass]="{'selected': bannerSelectHover === banner, 'greyscale': banner.greyscale }"
       [hidden]="banner.video_url || banner.line"
       id="obj-{{banner.id}}"
       (click)="onBannerSelect(banner);"
       (mouseover)="startAnimation(banner); bannerSelectHover = banner;"
       (mouseout)="isHover = null; bannerSelectHover = null;"
       [ngStyle]="{
       'background-image': 'url('+banner.image_url+')',
       'background-size': banner.size.x + 'px ' + banner.size.y + 'px',
       'background-repeat': 'no-repeat',
       'background-color': banner.backgroundColor,
       'width': banner.size.x + 'px', 
       'height': banner.size.y + 'px',
       'font-size': banner.fontSize + 'px',
       'font-family': ( banner.fontFamily ? banner.fontFamily : 'YoutubeSansBold' ),
       'color': banner.fontColor,
       'border-color': banner.border?.color,
       'border-style': banner.border?.style,
       'border-radius': banner.border?.radius + 'px',
       'border-width': banner.border?.width +'px',
       'text-align': banner.textAlign,
       'box-shadow': (banner.shadowActivate ? banner?.shadowRight+'px ' + banner?.shadowDown+'px '+ banner?.shadowDisperse+'px '  +  banner?.shadowExpand+'px ' +  ( banner?.shadowColor || 'black') : '') 
       }">  
         <div [ngClass]="{'selected': bannerSelectHover === banner}" 
         [ngStyle]="{'line-height': banner?.lineHeight}">
           <div class="innerHtml">
           {{banner.text}}
           </div>
          </div>       
       </div>
       <!--if banner is Video-->
       <video controls *ngIf="banner.video" class="{{banner.class}}"
       (click)="onBannerSelect(banner);"
       [ngStyle]="{'width': banner.size.x + 'px', 'height': banner.size.y + 'px'}">
          <source src="{{banner.video.url}}"     type="video/mp4">
           Your browser does not support the video tag.
       </video>
       <!--if banner is carousel-->
       <ion-button color="light" class="edit-carousel-button" (click)="onBannerSelect(banner)" *ngIf="banner.carousel" >
         <ion-icon name="create-outline"></ion-icon>
          </ion-button>
       <app-carousel-template [banner]="banner" *ngIf="banner.carousel" editorMode="true">
       </app-carousel-template>
     </div>
    <!--Tooltip-->
    <span class="tooltip-label" *ngIf="banner.tooltipText &&  bannerSelect && bannerSelect.id === banner.id"
    [ngClass]="banner.toolTipArrow"
    [ngStyle]="{ 
    'width': banner.toolPositionWidth+ 'px',
    'height': banner.toolPosition+ 'px',
    'top': (banner.position?.y + banner.toolPositionTop) + 'px',
    'left': (banner.position?.x + banner.toolPositionLeft) + 'px'}">
     {{banner.tooltipText}}
    </span>

   </div>
</ion-content>
<ion-button [color]="editSave ? 'primary' : 'light'" class="panel-scene-save" (click)="onSave()">
<ion-icon name="save-outline"></ion-icon>
</ion-button>
<ion-button color="light" class="panel-scene-settings" (click)="onSelectPanel('settings')">
   <ion-icon name="construct-outline"></ion-icon>
</ion-button>
<ion-button color="light" class="panel-tab-menu" (click)="onSelectPanel('menuTabs')">
   <ion-icon name="grid-outline"></ion-icon>
</ion-button>
<ion-button color="light" class="panel-show-item" (click)="onSelectPanel('items')">
   <ion-icon name="list-outline"></ion-icon>
</ion-button>
<ion-button color="light" class="panel-scene-plus" (click)="onSelectPanel('banners')">
   <ion-icon name="add-outline"></ion-icon>
</ion-button>
<!-- Panel Settings-->
<div *ngIf="showPanelTool === 'settings'" class="scene-setting-panel">
   <div class="close" (click)="showPanelTool = null">
      <ion-icon slot="icon-only" name="close-outline"></ion-icon>
   </div>
   <ion-card class="scene-panel">
      <ion-card-header>
         <ion-card-title>Configuración de la Escena</ion-card-title>
      </ion-card-header>
      <ion-card-content>
         <ion-toolbar>
            <ion-buttons slot="start">
               <ion-card-subtitle> Icono de Menú </ion-card-subtitle>
            </ion-buttons>
            <ion-buttons slot="end">
               <ion-card-subtitle style="margin-top: -19px;">
                  <select [(ngModel)]="scene.menuIcon" (change)="onChangeItem()" style="width: 168px;">
                  <option  *ngFor="let menuIcon of menuIcons" value="{{menuIcon}}">{{menuIcon}}</option>
                  </select>
                  <ion-icon class="ml-4" style="font-size: 30px;"  [name]="scene.menuIcon"></ion-icon>
               </ion-card-subtitle>
            </ion-buttons>
         </ion-toolbar>
         <ion-toolbar>
            <ion-buttons slot="start">
               <ion-card-subtitle> Título </ion-card-subtitle>
            </ion-buttons>
            <ion-buttons slot="end">
               <ion-card-subtitle>
                  <input class="mt-2 ml-2" type="text"  (change)="onChangeItem()" [(ngModel)]="scene.title"/> 
               </ion-card-subtitle>
            </ion-buttons>
         </ion-toolbar>
         <ion-toolbar>
            <ion-buttons slot="start">
               <ion-card-subtitle>Imagen de Fondo </ion-card-subtitle>
            </ion-buttons>
            <ion-buttons slot="end">
               <ion-card-subtitle>
                  <input class="mt-2 ml-2" type="text"   (change)="onChangeItem()"  [(ngModel)]="scene.url_image"/>
               </ion-card-subtitle>
            </ion-buttons>
         </ion-toolbar>
         <ion-toolbar>
            <ion-buttons slot="start">
               <ion-card-subtitle>Color de Fondo</ion-card-subtitle>
            </ion-buttons>
            <ion-buttons slot="end">
               <ion-label (click)="scene.backgroundColor = '';">Clear </ion-label>
               <ion-icon name="close-outline" (click)="bannerSelect.backgroundColor = '';">  </ion-icon>
               <ion-card-subtitle>
                  <input [ngStyle]="{'opacity': scene.backgroundColor == '' ? '0.5' : '1' }" class="mt-2 ml-2" type="color" [(ngModel)]="scene.backgroundColor"  (change)="onChangeItem()" />
               </ion-card-subtitle>
            </ion-buttons>
         </ion-toolbar>
         <ion-toolbar>
            <ion-buttons slot="start">
               <ion-card-subtitle> Tamaño horizontal del lienzo </ion-card-subtitle>
            </ion-buttons>
            <ion-buttons slot="end">
               <ion-card-subtitle>
                  <input type="number" [(ngModel)]="scene.container.w"  (change)="onChangeItem()" /> 
               </ion-card-subtitle>
            </ion-buttons>
         </ion-toolbar>
         <ion-toolbar>
            <ion-buttons slot="start">
               <ion-card-subtitle> Tamaño Vertical del lienzo </ion-card-subtitle>
            </ion-buttons>
            <ion-buttons slot="end">
               <ion-card-subtitle>
                  <input type="number" [(ngModel)]="scene.container.h" (change)="onChangeItem()"/> 
               </ion-card-subtitle>
            </ion-buttons>
         </ion-toolbar>
         <ion-toolbar>
            <ion-buttons slot="start">
               <ion-card-subtitle> Mostrar en Menú? </ion-card-subtitle>
            </ion-buttons>
            <ion-buttons slot="end">
               <ion-card-subtitle>
                  <ion-chip [color]="scene.show ? 'primary' : ''" (click)="scene.show = !scene.show">
                  <ion-icon name="checkmark-circle"></ion-icon>
                  <ion-label>{{ scene.show ? 'Mostrar': 'No mostrar' }}</ion-label>
                  </ion-chip>
               </ion-card-subtitle>
            </ion-buttons>
         </ion-toolbar>
         <ion-toolbar *ngIf="sceneId">
            <ion-buttons slot="start">
               <ion-card-subtitle>
                  <ion-label color="danger">Borrar Escena</ion-label>
               </ion-card-subtitle>
            </ion-buttons>
            <ion-buttons slot="end">
               <ion-button (click)="onDeleteScene(sceneId)" color="danger">
                  <ion-icon slot="icon-only" name="trash-outline"></ion-icon>
               </ion-button>
            </ion-buttons>
         </ion-toolbar>
      </ion-card-content>
   </ion-card>
</div>
<!-- Panel Add Banners-->
<div *ngIf="showPanelTool === 'banners'" class="scene-setting-panel">
   <div class="close" (click)="showPanelTool = false">
      <ion-icon slot="icon-only" name="close-outline"></ion-icon>
   </div>
   <ion-card class="scene-panel">
      <ion-card-header>
         <ion-card-title><small>Agregar Forma</small></ion-card-title>
      </ion-card-header>
      <ion-card-content>
         <div class="d-flex">
            <div class="icon-panel-scene ml-2 p-2" (click)="addBanner('Banner');">
               <ion-label slot="start"> Banner </ion-label>
               <ion-icon class="ml-2" style="font-size: 24px" name="browsers-outline"></ion-icon>
            </div>
            <div class="icon-panel-scene ml-2 p-2" (click)="addBanner('Text');">
               <ion-label slot="start"> Texto </ion-label>
               <ion-icon class="ml-2" style="font-size: 24px" name="text-outline"></ion-icon>
            </div>
            <div class="icon-panel-scene ml-2 p-2" (click)="addBanner('Image');">
               Imagen
               <ion-icon style="font-size: 24px" name="image-outline"></ion-icon>
            </div>
            <div class="icon-panel-scene ml-2 p-2" (click)="addBanner('Carrete');">
               Carrete
               <ion-icon style="font-size: 24px" name="albums-outline"></ion-icon>
            </div>
            <div class="icon-panel-scene ml-2 p-2" (click)="addBanner('Video');">
               Video
               <ion-icon style="font-size: 24px" name="videocam-outline"></ion-icon>
            </div>
         </div>
      </ion-card-content>
      <ion-card-header>
         <ion-card-title><small>Agregar Linea</small></ion-card-title>
      </ion-card-header>
      <ion-card-content>
         <div class="d-flex">
            <div class="icon-panel-scene" (click)="addArrowLineCurve();">
               <div class="container-arrow--curve" >
                  <div class="arrow line-arrow-button">
                     <div class="arrow__body"></div>
                  </div>
               </div>
            </div>
            <div class="icon-panel-scene ml-2" (click)="addArrowLineRect();">
               <div class="container-arrow--rect" >
                  <div class="arrow line-arrow-button">
                     <div class="arrow__body"></div>
                  </div>
               </div>
            </div>
            <div class="icon-panel-scene ml-2" (click)="addArrowLineLine();">
               <div class="container-arrow--line" >
                  <div class="arrow line-arrow-button">
                     <div class="arrow__body"></div>
                  </div>
               </div>
            </div>
         </div>
      </ion-card-content>
      <ion-card-header *ngIf="productCatalogList">
         <ion-card-title><small>Agregar Productos</small></ion-card-title>
      </ion-card-header>
      <ion-card-content *ngIf="productCatalogList">
         <div class="d-flex">
            <div class="icon-panel-scene ml-2 p-2" (click)="addBanner('CarreteProducts');">
               Carrete
               <ion-icon style="font-size: 24px" name="albums-outline"></ion-icon>
            </div>
         </div>
      </ion-card-content>
   </ion-card>
</div>
<!-- Panel Item list-->
<div *ngIf="showPanelTool === 'items'" class="tool-panel" >
   <div class="close" (click)="showPanelTool = false; showInputClipboard = false;">
      <ion-icon slot="icon-only" name="close-outline"></ion-icon>
   </div>
   <ion-card class="scene-panel">
      <ion-card-header>
         <ion-card-title><small>Lista de ({{ scene.banners.length}}) Elemento(s)</small></ion-card-title>
      </ion-card-header>
      <ion-card-header>
         <ion-checkbox class="mr-2"  (ionChange)="toogleSelection()"></ion-checkbox>
         <ion-button style="margin-top: -10px" size="small" *ngIf="copyMultiFromList.length > 0" color="primary" fill="outline" (click)="onCopyBanner(copyMultiFromList)"> Copiar</ion-button>
         <ion-button style="margin-top: -10px" size="small" *ngIf="copyMultiFromList.length > 0" color="danger" fill="outline" (click)="onDeleteBannerList(copyMultiFromList)"> Borrar</ion-button>
         <ion-button style="margin-top: -10px" size="small" color="medium" fill="outline" (click)="showInputClipboard = true;"> Pegar portapales</ion-button>
      </ion-card-header>
      <ion-card-header *ngIf="showInputClipboard">
         <input id="output-clipboard" (change)="onPasteFromClipboard()"/> 
      </ion-card-header>
      <ion-card-content class="reorder d-flex">
         <ion-list class=" mt--8 max-height">
         <ion-item *ngFor="let banner of scene.banners" buttom="true" class="border-gray">
             <ion-checkbox [(ngModel)]="banner.isChecked" (ionChange)="toogleOneSelection()"></ion-checkbox>
         </ion-item>
         </ion-list>
         <!-- The reorder gesture is disabled by default, enable it to drag and drop items -->
         <ion-reorder-group (ionItemReorder)="doReorderBanners($event)" disabled="false">
            <!-- Items wrapped in a reorder, entire item can be dragged -->
            <ion-reorder *ngFor="let banner of scene.banners" buttom="true" class="border-gray" style="width: 215px;"
             (mouseover)="bannerSelectHover =  banner;"
             (mouseout)="isHover = null; bannerSelectHover = null;"
            >
               <ion-item class="reorder-banner" >
                     <ion-card-subtitle> {{ banner.type || 'Elemento' }}
                     </ion-card-subtitle>
               </ion-item>
            </ion-reorder>
         </ion-reorder-group>
         <ion-list class=" mt--8 max-height">
         <ion-item *ngFor="let banner of scene.banners" buttom="true"  class="border-gray">
           <ion-button size="small" color="light" (click)="onBannerSelect(banner)">
             <ion-icon name="create-outline"></ion-icon>
           </ion-button>
         </ion-item>
         </ion-list>
      </ion-card-content>
   </ion-card>
</div>
<!-- Panel setting banner -->
<div *ngIf="showPanelTool=== 'settingsBanner'" class="panel-scene-select" id="bannerPanel" [ngStyle]="{'top': panelPos.y, 'left': panelPos.x }" 
[validateDrag]="fixedBannerPanelValidator" mwlDraggable (dragEnd)="dragPanelSceneSelectEnd($event)">
<div class="close" (click)="showPanelTool = null; bannerSelect = null">
   <ion-icon slot="icon-only" name="close-outline"></ion-icon>
</div>
<div class="close fixed" style="width: 10%" (click)="onToogleBannerPanel()">
   <ion-icon id="fixed-banner-icon" slot="icon-only" [name]="fixedBannerPanel ? 'attach-outline' : 'move-outline'"></ion-icon>
</div>
<ion-card *ngIf="bannerSelect" class="" >
   <ion-card-header style="border-bottom-color: gray;border-bottom-width: 1px;border-bottom-style: solid;">
      <ion-card-subtitle style="height: 18px;"> </ion-card-subtitle>
      <ion-card-content>
         <ion-tabs>
            <ion-tab-bar slot="bottom">
               <ion-tab-button (click)="tabSelect = 'position'">
                  <ion-label>Posición</ion-label>
               </ion-tab-button>
               <ion-tab-button (click)="tabSelect = 'line'" *ngIf="bannerSelect.line">
               <ion-label>Linea</ion-label>
               </ion-tab-button>
               <ion-tab-button (click)="tabSelect = 'video'" *ngIf="bannerSelect.video">
               <ion-label>Video</ion-label>
               </ion-tab-button>
               <ion-tab-button (click)="tabSelect = 'carousel'" *ngIf="bannerSelect.carousel">
               <ion-label>Carrete</ion-label>
               </ion-tab-button>
               <ion-tab-button (click)="tabSelect = 'background'" [hidden]="bannerSelect.line">
               <ion-label>Fondo</ion-label>
               </ion-tab-button>
               <ion-tab-button (click)="tabSelect = 'rotate'">
                  <ion-label>Rotar</ion-label>
               </ion-tab-button>
               <ion-tab-button (click)="tabSelect = 'font'" [hidden]="bannerSelect.line">
               <ion-label>Texto</ion-label>
               </ion-tab-button>
            </ion-tab-bar>
         </ion-tabs>
         <ion-tabs style="top:-31px">
            <ion-tab-bar slot="bottom">
               <ion-tab-button (click)="tabSelect = 'link'" [hidden]="bannerSelect.line">
               <ion-label>Link</ion-label>
               </ion-tab-button>
               <ion-tab-button (click)="tabSelect = 'border'" [hidden]="bannerSelect.line">
               <ion-label>Bordear</ion-label>
               </ion-tab-button>
               <ion-tab-button (click)="tabSelect = 'css'" [hidden]="bannerSelect.line"> 
               <ion-label>Estilos CSS</ion-label>
               </ion-tab-button>
               <ion-tab-button (click)="tabSelect = 'tooltip'">
                  <ion-label>Tooltip</ion-label>
               </ion-tab-button>
            </ion-tab-bar>
         </ion-tabs>
      </ion-card-content>
   </ion-card-header>
   <ion-card-content *ngIf="tabSelect == 'position'">
      <ion-toolbar>
         <ion-buttons slot="start">
            <ion-card-subtitle> Top 
            </ion-card-subtitle>
         </ion-buttons>
         <ion-buttons slot="end">
            <ion-card-subtitle>
               <input class="mt-2 ml-2 input-form" type="number" [(ngModel)]="bannerSelect.position.y"/>
               px
            </ion-card-subtitle>
         </ion-buttons>
      </ion-toolbar>
      <ion-toolbar>
         <ion-buttons slot="start">
            <ion-card-subtitle> Left </ion-card-subtitle>
         </ion-buttons>
         <ion-buttons slot="end">
            <ion-card-subtitle>
               <input class="mt-2 ml-2 input-form" type="number" [(ngModel)]="bannerSelect.position.x"/>
               px
            </ion-card-subtitle>
         </ion-buttons>
      </ion-toolbar>
      <ion-toolbar>
         <ion-buttons slot="start">
            <ion-card-subtitle> Ancho </ion-card-subtitle>
         </ion-buttons>
         <ion-buttons slot="end">
            <ion-card-subtitle>
               <input class="mt-2 ml-2 input-form" type="number" [(ngModel)]="bannerSelect.size.x"/>
               px
            </ion-card-subtitle>
         </ion-buttons>
      </ion-toolbar>
      <ion-toolbar>
         <ion-buttons slot="start">
            <ion-card-subtitle> Largo </ion-card-subtitle>
         </ion-buttons>
         <ion-buttons slot="end">
            <ion-card-subtitle>
               <input class="mt-2 ml-2 input-form"  type="number" [(ngModel)]="bannerSelect.size.y"/>
               px
            </ion-card-subtitle>
         </ion-buttons>
      </ion-toolbar>
   </ion-card-content>
   <ion-card-content *ngIf="tabSelect == 'line'">
      <ion-toolbar>
         <ion-buttons slot="start">
            <ion-card-subtitle> Grueso
            </ion-card-subtitle>
         </ion-buttons>
         <ion-buttons slot="end">
            <ion-card-subtitle>
               <input class="mt-2 ml-2 input-form" type="number" min="1" max="50" [(ngModel)]="bannerSelect.line.weight"/>
               px
            </ion-card-subtitle>
         </ion-buttons>
      </ion-toolbar>
      <ion-toolbar>
         <ion-buttons slot="start">
            <ion-card-subtitle>Estilo de línea</ion-card-subtitle>
         </ion-buttons>
         <ion-buttons slot="end">
            <ion-card-subtitle>
               <select [(ngModel)]="bannerSelect.line.type" (change)="onChangeItem()">
                   <option value="{{type.value}}" *ngFor="let type of lineTypes">{{type.label}}</option>
               </select>
            </ion-card-subtitle>
         </ion-buttons>
      </ion-toolbar>
      <ion-toolbar>
         <ion-buttons slot="start">
            <ion-card-subtitle> Tipo de línea </ion-card-subtitle>
         </ion-buttons>
         <ion-buttons slot="end">
            <ion-card-subtitle>
               <select [(ngModel)]="bannerSelect.line.style" (change)="onChangeItem()">
               <option selected="selected" value="container-arrow--curve">curve</option>
               <option selected="selected" value="container-arrow--rect">rect</option>
               <option selected="selected" value="container-arrow--line">line</option>
               </select>
            </ion-card-subtitle>
         </ion-buttons>
      </ion-toolbar>
      <ion-toolbar>
         <ion-buttons slot="start">
            <ion-card-subtitle> Color de línea </ion-card-subtitle>
         </ion-buttons>
         <ion-buttons slot="end">
            <ion-card-subtitle>
               <input class="mt-2 ml-2 input-form" type="color" [(ngModel)]="bannerSelect.line.color"/>
            </ion-card-subtitle>
         </ion-buttons>
      </ion-toolbar>
   </ion-card-content>
   <ion-card-content *ngIf="tabSelect == 'rotate'">
      <ion-toolbar>
         <ion-buttons slot="start">
            <ion-card-subtitle> Rotar X </ion-card-subtitle>
         </ion-buttons>
         <ion-buttons slot="end">
            <ion-card-subtitle>
               <input class="mt-2 ml-2 input-form" type="number" [(ngModel)]="bannerSelect.rotation.x"/> grade
            </ion-card-subtitle>
         </ion-buttons>
      </ion-toolbar>
      <ion-toolbar>
         <ion-buttons slot="start">
            <ion-card-subtitle> Rotar Y </ion-card-subtitle>
         </ion-buttons>
         <ion-buttons slot="end">
            <ion-card-subtitle>
               <input class="mt-2 ml-2 input-form" type="number" [(ngModel)]="bannerSelect.rotation.y"/> grade
            </ion-card-subtitle>
         </ion-buttons>
      </ion-toolbar>
      <ion-toolbar>
         <ion-buttons slot="start">
            <ion-card-subtitle> Rotar Z </ion-card-subtitle>
         </ion-buttons>
         <ion-buttons slot="end">
            <ion-card-subtitle>
               <input class="mt-2 ml-2 input-form" type="number" [(ngModel)]="bannerSelect.rotation.z"/> grade
            </ion-card-subtitle>
         </ion-buttons>
      </ion-toolbar>
   </ion-card-content>
   <ion-card-content *ngIf="tabSelect == 'background'">
      <ion-toolbar>
         <ion-card-subtitle slot="start"> Imagen de Fondo </ion-card-subtitle>
         <input slot="end" class="mt-2 ml-2" type="text" [(ngModel)]="bannerSelect.image_url"/> 
      </ion-toolbar>
      <ion-toolbar>
         <ion-card-subtitle slot="start"> Color de Fondo</ion-card-subtitle>
         <ion-buttons slot="end">
            <ion-label (click)="bannerSelect.backgroundColor = '';">Clear </ion-label>
            <ion-icon name="close-outline" (click)="bannerSelect.backgroundColor = '';">  </ion-icon>
            <input [ngStyle]="{'opacity': bannerSelect.backgroundColor == '' ? '0.5' : '1' }" class="mt-2 ml-2" type="color" [(ngModel)]="bannerSelect.backgroundColor"/> 
         </ion-buttons>
      </ion-toolbar>
      <ion-toolbar>
         <ion-buttons slot="start">
            <ion-card-subtitle> Opacidad </ion-card-subtitle>
         </ion-buttons>
         <ion-buttons slot="end">
            <ion-card-subtitle>
               <input class="origin-y-range" type="range" min="0" max="100" value="100" data-units="%" (change)="onChangeOpacity()"/>
               <ion-icon name="sunny-outline"></ion-icon>
            </ion-card-subtitle>
         </ion-buttons>
      </ion-toolbar>
   </ion-card-content>
   <ion-card-content *ngIf="tabSelect == 'video'">
      <ion-toolbar>
         <ion-card-subtitle slot="start"> Url de video </ion-card-subtitle>
         <input slot="end" class="mt-2 ml-2" type="text" [(ngModel)]="bannerSelect.video.video_url"/> 
      </ion-toolbar>
   </ion-card-content>
   <ion-card-content *ngIf="tabSelect == 'carousel'" style="overflow: auto;height: 421px;">
      <ion-toolbar *ngIf="bannerSelect.type == 'CarreteProducts'">
         <ion-buttons slot="start">
            <ion-card-subtitle> Tipo de Carrete </ion-card-subtitle>
         </ion-buttons>
         <ion-buttons slot="end">
            <ion-card-subtitle>
               <select [(ngModel)]="bannerSelect.carousel.type" (change)="onChangeCarousel()">
               <option *ngFor="let type of typeCarouselList" value="{{type.value}}">{{type.label}}</option>
               </select>
            </ion-card-subtitle>
         </ion-buttons>
      </ion-toolbar>
      <ion-toolbar>
         <ion-buttons slot="start">
            <ion-card-subtitle> Tipo de Carrete </ion-card-subtitle>
         </ion-buttons>
         <ion-buttons slot="end">
            <ion-card-subtitle>
               <select [(ngModel)]="bannerSelect.carousel.type"  (change)="onChangeCarousel()">
               <option *ngFor="let type of typeCarouselList" value="{{type.value}}">{{type.label}}</option>
               </select>
            </ion-card-subtitle>
         </ion-buttons>
      </ion-toolbar>

      <ion-toolbar *ngFor="let option of carouselOptionList">
         <ion-buttons slot="start">
            <ion-card-subtitle> {{option}} </ion-card-subtitle>
         </ion-buttons>
         <ion-buttons slot="end">
            <ion-card-subtitle>
               <input class="mt-2 ml-2 input-form" type="number" 
               [(ngModel)]="bannerSelect.carousel['options'][option]" 
               (change)="onChangeCarousel()"
               />
            </ion-card-subtitle>
         </ion-buttons>
      </ion-toolbar>
      <ion-toolbar>
         <ion-card-subtitle slot="start"> Lista de Productos </ion-card-subtitle>
         <select [(ngModel)]="bannerSelect.carousel.productCatalog" (change)="onChangeMenuTabs()">
         <option *ngFor="let category of productCatalogList" value="{{category.id}}"> {{category.name}}</option>
         </select>
      </ion-toolbar>
      <ion-toolbar>
         <ion-card-subtitle slot="start"> Lista de {{bannerSelect.carousel.images?.length}} Imágene(s)</ion-card-subtitle>
         <ion-button  slot="end" size="small" (click)="presentPopoverNewCarouselImage(bannerSelect.carousel,'images')">
            <ion-icon name="add-outline"></ion-icon>
         </ion-button>
      </ion-toolbar>
      
      <ion-item class="d-flex">
        <ion-reorder-group (ionItemReorder)="doReorderCarousel($event)" disabled="false">
            <!-- Items wrapped in a reorder, entire item can be dragged -->
            <ion-reorder *ngFor="let image of bannerSelect.carousel.images" buttom="true" class="border-gray">
               <ion-item class="reorder-banner" >
                  <ion-buttons slot="start">
                     <ion-card-subtitle> {{ image.title }}
                     </ion-card-subtitle>
                  </ion-buttons>
                  <ion-buttons slot="end">
                     <ion-card-subtitle>
                        <img [src]="image.url" class="carousel-image" width="65"/>
                     </ion-card-subtitle>
                  </ion-buttons>
               </ion-item>
            </ion-reorder>
        </ion-reorder-group>
        <ion-list>
         <ion-item *ngFor="let image of bannerSelect.carousel.images;let i = index" buttom="true"  class="border-gray">
           <ion-button size="small" color="light" (click)="onOpenChangeImg(image,bannerSelect.carousel.images,i)">
             <ion-icon name="create-outline"></ion-icon>
           </ion-button>
           <ion-button size="small" color="danger" (click)="onDeleteCarretImg(image,bannerSelect.carousel,'images',i)">
             <ion-icon name="create-outline"></ion-icon>
           </ion-button>
         </ion-item>
        </ion-list>
      </ion-item>
   </ion-card-content>
   <ion-card-content *ngIf="tabSelect == 'font'">
      <ion-toolbar>
         <ion-buttons slot="start">
            <ion-card-subtitle> Texto 
            </ion-card-subtitle>
         </ion-buttons>
         <ion-buttons slot="end">
            <ion-card-subtitle>
               <ion-button (click)="onClickOpenHtml(bannerSelect,'text')"> html
               </ion-button>
               <input [hidden]="bannerSelect.isHtml" class="mt-2 ml-2" type="text" (change)="onChangeItem()" [(ngModel)]="bannerSelect.text"/>
               <input *ngIf="bannerSelect.isHtml" (click)="onClickOpenHtml(bannerSelect,'text')" class="mt-2 ml-2" type="text" readonly [(ngModel)]="bannerSelect.text"/>
            </ion-card-subtitle>
         </ion-buttons>
      </ion-toolbar>
      <ion-toolbar>
         <ion-card-subtitle> Color de letra</ion-card-subtitle>
         <ion-buttons slot="end">
            <ion-card-subtitle>
               <ion-label (click)="scene.backgroundColor = '';">Clear </ion-label>
               <ion-icon name="close-outline" (click)="bannerSelect.fontColor = '';">  </ion-icon>
               <input class="mt-2 ml-2" type="color" (change)="onChangeItem()"  [(ngModel)]="bannerSelect.fontColor"/> 
            </ion-card-subtitle>
         </ion-buttons>
      </ion-toolbar>
      <ion-toolbar>
         <ion-buttons slot="start">
            <ion-card-subtitle> Tipo de letra
            </ion-card-subtitle>
         </ion-buttons>
         <ion-buttons slot="end">
            <ion-card-subtitle>
               <select [(ngModel)]="bannerSelect.fontFamily" (change)="onChangeItem()" >
               <option selected="selected" [hidden]="bannerSelect.fontFamily" value="YoutubeSansMedium">YoutubeSansMedium</option>
               <option *ngFor="let font of fontFamilyList" value="{{font.value}}">{{font.label}}</option>
               </select>
            </ion-card-subtitle>
         </ion-buttons>
      </ion-toolbar>
      <ion-toolbar>
         <ion-buttons slot="start">
            <ion-card-subtitle> Tamaño de letra </ion-card-subtitle>
         </ion-buttons>
         <ion-buttons slot="end">
            <ion-card-subtitle>
               <input class="mt-2 ml-2" type="number" (change)="onChangeItem()"  [(ngModel)]="bannerSelect.fontSize"/> 
               px
            </ion-card-subtitle>
         </ion-buttons>
      </ion-toolbar>
      <ion-toolbar>
         <ion-buttons slot="start">
            <ion-card-subtitle> Alineación de Texto </ion-card-subtitle>
         </ion-buttons>
         <ion-buttons slot="end">
            <select [(ngModel)]="bannerSelect.textAlign" (change)="onChangeItem()" >
               <option *ngFor="let textAlign of textAligns" value="{{textAlign.value}}">{{textAlign.label}}</option>
            </select>
         </ion-buttons>
      </ion-toolbar>
      <ion-toolbar>
         <ion-buttons slot="start">
            <ion-card-subtitle> Interlineado de Texto </ion-card-subtitle>
         </ion-buttons>
         <ion-buttons slot="end">
            <input class="mt-2 ml-2" type="number" (change)="onChangeItem()"  [(ngModel)]="bannerSelect.lineHeight"/>     
         </ion-buttons>
      </ion-toolbar>
   </ion-card-content>
   <ion-card-content *ngIf="tabSelect == 'tooltip'">
      <ion-toolbar>
         <ion-buttons slot="start">
            <ion-card-subtitle> Texto
            </ion-card-subtitle>
         </ion-buttons>
         <ion-buttons slot="end">
            <ion-card-subtitle>
               <input class="mt-2 ml-2" type="text"  (change)="onChangeItem()"  [(ngModel)]="bannerSelect.tooltipText"/>
            </ion-card-subtitle>
         </ion-buttons>
      </ion-toolbar>
      <ion-toolbar>
         <ion-card-subtitle> Izquierda </ion-card-subtitle>
         <ion-buttons slot="end">
            <ion-card-subtitle>
               <input class="mt-2 ml-2" type="number"  (change)="onChangeItem()"  [(ngModel)]="bannerSelect.toolPositionLeft"/>
               px
            </ion-card-subtitle>
         </ion-buttons>
      </ion-toolbar>
      <ion-toolbar>
         <ion-buttons slot="start">
            <ion-card-subtitle> Arriba
            </ion-card-subtitle>
         </ion-buttons>
         <ion-buttons slot="end">
            <ion-card-subtitle>
               <input class="mt-2 ml-2" type="number" (change)="onChangeItem()"  [(ngModel)]="bannerSelect.toolPositionTop"/>
               px
            </ion-card-subtitle>
         </ion-buttons>
      </ion-toolbar>
      <ion-toolbar>
         <ion-buttons slot="start">
            <ion-card-subtitle> Ancho
            </ion-card-subtitle>
         </ion-buttons>
         <ion-buttons slot="end">
            <ion-card-subtitle>
               <input class="mt-2 ml-2" type="number" (change)="onChangeItem()"  [(ngModel)]="bannerSelect.toolPositionWidth"/>
               px
            </ion-card-subtitle>
         </ion-buttons>
      </ion-toolbar>
      <ion-toolbar>
         <ion-buttons slot="start">
            <ion-card-subtitle> Tooltip Arrow
            </ion-card-subtitle>
         </ion-buttons>
         <ion-buttons slot="end">
            <ion-card-subtitle>
               <select [(ngModel)]="bannerSelect.toolTipArrow" (change)="onChangeItem()" >
               <option *ngFor="let arrow of toolTipArrowStyles" value="{{arrow.value}}">{{arrow.label}}</option>
               </select>
            </ion-card-subtitle>
         </ion-buttons>
      </ion-toolbar>
   </ion-card-content>
   <ion-card-content *ngIf="tabSelect == 'border'">
      <ion-toolbar line="solid">
         <ion-buttons slot="start">
            <ion-card-subtitle> Estilo del borde  </ion-card-subtitle>
         </ion-buttons>
         <ion-buttons slot="end">
            <select placeholder="Select One" [(ngModel)]="bannerSelect.border.style" (change)="onChangeItem()" >
            <option *ngFor="let style of borderStyles" value="{{style}}">{{style}}</option>
            </select>
         </ion-buttons>
      </ion-toolbar>
      <div *ngIf="bannerSelect.border.style!='none' || bannerSelect.border.style!='hidden'">
         <ion-toolbar>
            <ion-buttons slot="start">
               <ion-card-subtitle> Color del borde</ion-card-subtitle>
            </ion-buttons>
            <ion-buttons slot="end">
               <input [disabled]="bannerSelect.border.style=='none'" (change)="onChangeItem()"  class="mt-2 ml-2" type="color" [(ngModel)]="bannerSelect.border.color"/> 
            </ion-buttons>
         </ion-toolbar>
         <ion-toolbar>
            <ion-buttons slot="start">
               <ion-card-subtitle> Border radius  </ion-card-subtitle>
            </ion-buttons>
            <ion-buttons slot="end">
               <input class="mt-2 ml-2 mr-2" type="number" (change)="onChangeItem()"  [(ngModel)]="bannerSelect.border.radius"/> px
            </ion-buttons>
         </ion-toolbar>
         <ion-toolbar>
            <ion-buttons slot="start">
               <ion-card-subtitle> Border Width  </ion-card-subtitle>
            </ion-buttons>
            <ion-buttons slot="end">
               <input [disabled]="bannerSelect.border.style=='none'"  (change)="onChangeItem()"  class="mt-2 ml-2 m-2" type="number" [(ngModel)]="bannerSelect.border.width"/> px
            </ion-buttons>
         </ion-toolbar>
      </div>
   </ion-card-content>
   <ion-card-content *ngIf="tabSelect == 'css'"  class="toolbar-styles-scroll">
      <ion-toolbar>
         <ion-buttons slot="start">
            <ion-card-subtitle> Clases CSS </ion-card-subtitle>
         </ion-buttons>
         <ion-buttons slot="end">
            <ion-card-subtitle>
               <input class="mt-2 ml-2" type="text" (change)="onChangeItem()"  [(ngModel)]="bannerSelect.class"/> 
            </ion-card-subtitle>
         </ion-buttons>
      </ion-toolbar>
      <ion-toolbar>
         <ion-buttons slot="start">
            <ion-card-subtitle> Estilos CSS </ion-card-subtitle>
         </ion-buttons>
         <ion-buttons slot="end">
            <ion-card-subtitle>
               <input class="mt-2 ml-2" type="text" (change)="onChangeItem()"  [(ngModel)]="bannerSelect.style"/> 
            </ion-card-subtitle>
         </ion-buttons>
      </ion-toolbar>
      <ion-toolbar>
         <ion-buttons slot="start">
            <ion-card-subtitle> Sombra </ion-card-subtitle>
         </ion-buttons>
         <ion-buttons slot="end">
            <ion-chip [color]="bannerSelect.shadowActivate ? 'primary' : ''" (click)="bannerSelect.shadowActivate = !bannerSelect.shadowActivate">
              <ion-icon name="checkmark-circle"></ion-icon>
              <ion-label>{{ bannerSelect.shadowActivate ? 'Con sombra': 'Sin sombra' }}</ion-label>
            </ion-chip>
            <div *ngIf="bannerSelect.shadowActivate" class="card-shadow" [ngStyle]="{'box-shadow': ( bannerSelect.shadowActivate ?  bannerSelect?.shadowRight+'px ' + bannerSelect?.shadowDown+'px '+ bannerSelect?.shadowDisperse+'px '  +  bannerSelect?.shadowExpand+'px ' +  ( bannerSelect?.shadowColor || 'black') : '' )}">
            </div>
         </ion-buttons>
      </ion-toolbar>
      <ion-toolbar *ngIf="bannerSelect.shadowActivate">
         <ion-list>
            <ion-item>
               <ion-buttons>
                  <ion-card-subtitle> Derecha </ion-card-subtitle>
               </ion-buttons>
               <ion-buttons slot="end">
                  <input size="2" class="mt-2 mr-2" type="number" (change)="onChangeItem()"  [(ngModel)]="bannerSelect.shadowRight"/> 
                  px
               </ion-buttons>
            </ion-item>
            <ion-item>
               <ion-buttons>
                  <ion-card-subtitle> Abajo </ion-card-subtitle>
               </ion-buttons>
               <ion-buttons slot="end">
                  <input size="2" class="mt-2 mr-2" type="number" (change)="onChangeItem()"  [(ngModel)]="bannerSelect.shadowDown"/> 
                  px
               </ion-buttons>
            </ion-item>
            <ion-item>
               <ion-buttons>
                  <ion-card-subtitle> Dispersar </ion-card-subtitle>
               </ion-buttons>
               <ion-buttons slot="end">
                  <input size="2" class="mt-2 mr-2" type="number" (change)="onChangeItem()"  [(ngModel)]="bannerSelect.shadowDisperse"/> 
                  px
               </ion-buttons>
            </ion-item>
            <ion-item>
               <ion-buttons>
                  <ion-card-subtitle> Expandir </ion-card-subtitle>
               </ion-buttons>
               <ion-buttons slot="end">
                  <input size="2" class="mt-2 mr-2" type="number" (change)="onChangeItem()"  [(ngModel)]="bannerSelect.shadowExpand"/> 
                  px
               </ion-buttons>
            </ion-item>
            <ion-item>
               <ion-buttons>
                  <ion-card-subtitle> Color </ion-card-subtitle>
               </ion-buttons>
               <ion-buttons slot="end">
                  <input size="2" class="mt-2 mr-2" type="color" (change)="onChangeItem()"  [(ngModel)]="bannerSelect.shadowColor"/>
               </ion-buttons>
            </ion-item>
         </ion-list>
      </ion-toolbar>
      <ion-toolbar>
         <ion-card-subtitle> Efectos especiales</ion-card-subtitle>
      </ion-toolbar>
      <ion-toolbar>
        <ion-list>
            <ion-item>
              <ion-card-subtitle>Iniciar en EscalaGris</ion-card-subtitle>
              <ion-checkbox slot="end" [(ngModel)]="bannerSelect.greyscale" (click)="onChangeEffect(effect)"></ion-checkbox>
           </ion-item>
           <ion-item *ngFor="let effect of hoverEffects">
              <ion-card-subtitle>{{effect.name}}</ion-card-subtitle>
              <ion-checkbox slot="end" [(ngModel)]="effect.isChecked" (click)="onChangeEffect(effect)"></ion-checkbox>
           </ion-item>
        </ion-list>
      </ion-toolbar>
   </ion-card-content>
   <ion-card-content *ngIf="tabSelect == 'link'">
      <ion-toolbar>
         <ion-buttons slot="start">
            <ion-card-subtitle> External URL </ion-card-subtitle>
         </ion-buttons>
         <ion-buttons slot="end">
            <ion-card-subtitle>
               <input class="mt-2 ml-2" type="text" (change)="onChangeItem()"  [(ngModel)]="bannerSelect.externalUrl"/> 
            </ion-card-subtitle>
         </ion-buttons>
      </ion-toolbar>
      <ion-toolbar>
         <ion-buttons slot="start">
            <ion-card-subtitle> Ir a escenas de la feria </ion-card-subtitle>
         </ion-buttons>
         <ion-buttons slot="end" class="w-100">
            <select [(ngModel)]="bannerSelect.internalUrl" class="w-100" (change)="onChangeItem()" >
            <option *ngFor="let link of internalUrlList.fair" value="{{link.value}}">{{link.label}}</option>
            </select>
         </ion-buttons>
      </ion-toolbar>
      <ion-toolbar>
         <ion-buttons slot="start">
            <ion-card-subtitle> Ir a escenas de pabellón </ion-card-subtitle>
         </ion-buttons>
         <ion-buttons slot="end" class="w-100">
            <select [(ngModel)]="bannerSelect.internalUrl" (change)="onChangeItem()"  class="w-100">
            <option *ngFor="let link of internalUrlList.pavilions" value="{{link.value}}">{{link.label}}</option>
            </select>
         </ion-buttons>
      </ion-toolbar>
      <ion-toolbar>
         <ion-buttons slot="start">
            <ion-card-subtitle> Ir a escena de local comercial </ion-card-subtitle>
         </ion-buttons>
         <ion-buttons slot="end" class="w-100">
            <select [(ngModel)]="bannerSelect.internalUrl" class="w-100" (change)="onChangeItem()" >
            <option *ngFor="let link of internalUrlList.stands" value="{{link.value}}">{{link.label}}</option>
            </select>
         </ion-buttons>
      </ion-toolbar>
   </ion-card-content>
   <ion-toolbar>
      <ion-buttons slot="start">
         <ion-card-subtitle>  </ion-card-subtitle>
      </ion-buttons>
      <ion-buttons slot="end">
         <ion-card-subtitle>
            <ion-button size="small" color="primary" (click)="onCopyBanner([bannerSelect]); showPanelTool = null;">
               <ion-label color="primary"> Copiar </ion-label>
               <ion-icon slot="end" name="copy-outline"></ion-icon>
            </ion-button>
         </ion-card-subtitle>
         <ion-card-subtitle>
            <ion-button size="small" color="danger" (click)="onDeleteBanner(bannerSelect)">
               <ion-text color="danger"> Borrar Forma</ion-text>
               <ion-icon slot="end" name="trash-outline"></ion-icon>
            </ion-button>
         </ion-card-subtitle>
      </ion-buttons>
   </ion-toolbar>
</ion-card>
</div>
<!--  Panel Menu Tabs -->
<div *ngIf="showPanelTool=== 'menuTabs'" class="tabmenu-panel">
   <div class="close" (click)="showPanelTool = false">
      <ion-icon slot="icon-only" name="close-outline"></ion-icon>
   </div>
   <ion-card class="scene-panel">
      <ion-card-header>
         <ion-card-title>Configuración de Menú Tabs </ion-card-title>
      </ion-card-header>
      <ion-card-content class="card-content-panel">
         <ion-toolbar class="padding-container" style="margin-top:-10px;">
            <ion-buttons slot="start">
               <ion-card-subtitle> Mostrar en posición </ion-card-subtitle>
            </ion-buttons>
            <ion-buttons slot="end">
               <ion-card-subtitle>
                  <select [(ngModel)]="scene.menuTabs.position" (change)="onChangeMenuTabs()">
                  <option value="none">No mostrar</option>
                  <option value="top">Arriba</option>
                  <option value="bottom">Abajo</option>
                  <option value="left">a la Izquierda</option>
                  <option value="right">a la Derecha</option>
                  </select>
               </ion-card-subtitle>
            </ion-buttons>
         </ion-toolbar>
         <ion-list [hidden]="scene.menuTabs.position === 'none'" *ngIf="tabMenuObj">
         <ion-toolbar class="padding-container" style="margin-top: -17px;">
            <ion-buttons slot="start">
               <ion-card-subtitle> Menú {{ scene.menuTabs.showMenuParent  ? 'por default' : 'personalizado'  }}</ion-card-subtitle>
            </ion-buttons>
            <ion-buttons slot="end">
               <ion-card-subtitle>
                  <ion-chip [color]="scene.menuTabs.showMenuParent ? 'primary' : ''" (click)="toogleTabMenu()">
                  <ion-icon name="checkmark-circle"></ion-icon>
                  </ion-chip>
               </ion-card-subtitle>
            </ion-buttons>
         </ion-toolbar>
         <ion-toolbar class="padding-container" style="margin-top: -10px;">
            <ion-buttons slot="start">
               <ion-card-subtitle> Icono </ion-card-subtitle>
            </ion-buttons>
            <ion-buttons slot="end">
               <ion-card-subtitle>
                  <input (keyup)="onChangeMenuTabs()" class="mt-2 ml-2" type="text" [(ngModel)]="tabMenuObj.icon" (change)="onChangeMenuTabs()"/>
               </ion-card-subtitle>
            </ion-buttons>
         </ion-toolbar>
         <ion-toolbar class="padding-container" style="margin-top: -10px;">
            <ion-buttons slot="start">
               <ion-card-subtitle> Color de fondo </ion-card-subtitle>
            </ion-buttons>
            <ion-buttons slot="end">
               <ion-label (click)="tabMenuObj.backgroundColor = '';">Clear </ion-label>
               <ion-icon name="close-outline" (click)="tabMenuObj.backgroundColor = '';">  </ion-icon>
               <ion-card-subtitle>
                  <input [ngStyle]="{'opacity': tabMenuObj.backgroundColor == '' ? '0.5' : '1' }" class="mt-2 ml-2" 
                  (change)="onChangeColorTabMenu()"
                  (ionChange)="onChangeColorTabMenu()" type="color" [(ngModel)]="tabMenuObj.backgroundColor"/>
               </ion-card-subtitle>
            </ion-buttons>
         </ion-toolbar>
         <ion-toolbar class="padding-container" style="margin-top: -10px;">
            <ion-buttons slot="start">
               <ion-card-subtitle> Color fondo de logo</ion-card-subtitle>
            </ion-buttons>
            <ion-buttons slot="end">
               <ion-label (click)="tabMenuObj.backgroundColorLogo = '';">Clear </ion-label>
               <ion-icon name="close-outline" (click)="tabMenuObj.backgroundColorLogo = '';">  </ion-icon>
               <ion-card-subtitle>
                  <input [ngStyle]="{'opacity': tabMenuObj.backgroundColorLogo == '' ? '0.5' : '1' }" class="mt-2 ml-2" 
                  (change)="onChangeColorTabMenu()"
                  (ionChange)="onChangeColorTabMenu()" type="color" [(ngModel)]="tabMenuObj.backgroundColorLogo"/>
               </ion-card-subtitle>
            </ion-buttons>
         </ion-toolbar>
         <ion-grid>
            <ion-row>
               <ion-toolbar class="padding-container" style="margin-top: -14px;">
                  <ion-buttons slot="start">
                     <ion-card-subtitle> Iconos y Acciones </ion-card-subtitle>
                  </ion-buttons>
               </ion-toolbar>
            </ion-row>
            <ion-row class="padding-container">
               <ion-col button="true" *ngFor="let tab of tabMenuObj.actions;let i = index" button="true">
                  <ion-button [fill]="tab.fill" [color]="tab.colorbtn" class="btn-tab-menu-icon"
                  (click)="setModifyTab(tab,i)">
                  <ion-icon [slot]="tab.title !== '' ? 'start': 'icon-only'" [name]="tab.icon"></ion-icon>
                  {{tab.title}}
                  </ion-button> 
               </ion-col>
               <ion-col button="true" button="true">
                  <ion-button fill="fill" color="Primary" class="btn-tab-menu-icon"
                  (click)="tabMenuInstance = {'isNew':true}">
                  Nuevo Tab
                  <ion-icon slot="end" name="add-outline"></ion-icon>                  
                  </ion-button>
               </ion-col>
            </ion-row>
         </ion-grid>
         <div *ngIf="tabMenuInstance">
            <ion-item>
               <ion-card-subtitle> {{ !tabMenuInstance.isNew ? 'Modificar': 'Nuevo' }} Menú Tab</ion-card-subtitle>
               <ion-button color="primary" [disabled]="tabMenuInstance?.icon == ''" class="panel-scene-save" (click)="onSaveTabMenu()">
               <ion-icon name="save-outline"></ion-icon>
               </ion-button>
            </ion-item>
            <div class="padding-container">
            <ion-toolbar>
               <ion-buttons slot="start">
                  <ion-card-subtitle> Título </ion-card-subtitle>
               </ion-buttons>
               <ion-buttons slot="end">
                  <ion-card-subtitle>
                     <input class="mt-2 ml-2" type="text" [(ngModel)]="tabMenuInstance.title"/> 
                  </ion-card-subtitle>
               </ion-buttons>
            </ion-toolbar>
            <ion-toolbar>
               <ion-buttons slot="start">
                  <ion-card-subtitle> Icono de menú </ion-card-subtitle>
               </ion-buttons>
               <ion-buttons slot="end">
                  <ion-card-subtitle style="margin-top: -19px;">
                     <select [(ngModel)]="tabMenuInstance.icon" (change)="onChangeMenuTabs()" style="width: 109px;">
                     <option  *ngFor="let menuIcon of menuIcons" value="{{menuIcon}}">{{menuIcon}}</option>
                     </select>
                     <ion-icon class="ml-4" style="font-size: 30px;"  [name]="tabMenuInstance.icon"></ion-icon>
                  </ion-card-subtitle>
               </ion-buttons>
            </ion-toolbar>
            <ion-toolbar>
                <ion-buttons slot="start">
                   <ion-card-subtitle> Estilo del botón </ion-card-subtitle>
                </ion-buttons>
                <ion-buttons slot="end">
                   <ion-card-subtitle>
                      <select [(ngModel)]="tabMenuInstance.fill" (change)="onChangeMenuTabs()" style="width: 114px;">
                      <option value="clear">clear</option>
                      <option value="default">default</option>
                      <option value="outline">outline</option>
                      <option value="solid">solid</option>
                      <option value="undefined">undefined</option>
                      </select>
                   </ion-card-subtitle>
                </ion-buttons>
             </ion-toolbar>
            <ion-toolbar>
                <ion-buttons slot="start">
                   <ion-card-subtitle> Color del botón </ion-card-subtitle>
                </ion-buttons>
                <ion-buttons slot="end">
                   <ion-card-subtitle>
                      <select [(ngModel)]="tabMenuInstance.colorbtn" (change)="onChangeMenuTabs()" style="width: 114px;">
                      <option value="primary">primary</option>
                      <option value="secondary">secondary</option>
                      <option value="tertiary">tertiary</option>
                      <option value="success">success</option>
                      <option value="warning">warning</option>
                      <option value="danger">danger</option>
                      <option value="light">light</option>
                      <option value="medium">medium</option>
                      <option value="dark">dark</option>
                      </select>
                   </ion-card-subtitle>
                </ion-buttons>
             </ion-toolbar>
            <ion-toolbar>
               <ion-buttons slot="start">
                  <ion-card-subtitle> Enlace </ion-card-subtitle>
               </ion-buttons>
               <ion-buttons slot="end">
                  <ion-card-subtitle style="margin-top: -19px;">
                     <select class="select2_group form-control" [(ngModel)]="tabMenuInstance.link">
                        <optgroup *ngFor="let group of groupOfLinks" label="{{group.label}}">
                           <option *ngFor="let link of group.links" value="{{link.value}}">{{link.label}}</option>
                        </optgroup>
                     </select>
                  </ion-card-subtitle>
               </ion-buttons>
            </ion-toolbar>
            <ion-toolbar [hidden]="tabMenuInstance.isNew">
                <ion-buttons slot="start">
                  <ion-card-subtitle>
                     <ion-label color="danger">Borrar Menu Tab</ion-label>
                  </ion-card-subtitle>
                </ion-buttons>
                <ion-buttons slot="end">
                   <ion-button (click)="onDeleteTabMenu(tabMenuInstance)" color="danger">
                      <ion-icon slot="icon-only" name="trash-outline"></ion-icon>
                   </ion-button>
                </ion-buttons>
            </ion-toolbar>
            </div>
         </div>
         </ion-list>
      </ion-card-content>
   </ion-card>
</div>

<app-tab-menu-scenes *ngIf="scene && scene.menuTabs.position !== 'none'" [position]="scene.menuTabs.position"  [options]="tabMenuObj" ></app-tab-menu-scenes>

<div class="position-absolute" [ngStyle]="{'top': (showHtmlEditor ? '56':'-1000')+ 'px'}">
  <ion-button size="small" color="danger" fill="outline" class="close-html-button" (click)="onCleanHtml()">
    <ion-label>Limpiar</ion-label>
  </ion-button>
  <ion-button size="small" color="medium" fill="outline" class="clean-html-button" (click)="onCloseHtml()">
    <ion-label>Cancelar</ion-label>
  </ion-button>
  <ion-button  size="small"  color="primary" fill="outline" class="accept-html-button" (click)="onAcceptHtml()" style="margin-left: 94%;">
    <ion-label>Aceptar</ion-label>
  </ion-button>
  <textarea id="editorhtml"></textarea>
</div>

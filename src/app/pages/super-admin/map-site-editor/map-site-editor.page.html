<ion-header>
</ion-header>

<ion-content cdkDropList>

  <app-scene-component [hidden]="layoutMode"
   [editMode]="true"
   [windowScreenSm]="windowScreenSm" 
   [windowScreenLg]="windowScreenLg" 
   [scene]="sceneEdited"
   [bannerSelectHover]="bannerSelectHover" 
   (onHoverBanner)="onHoverBanner($event)"
   [router]="routerView">
  </app-scene-component>

  <app-layout-component *ngIf="layoutMode"
   [editMode]="true"
   [windowScreenSm]="windowScreenSm" 
   [windowScreenLg]="windowScreenLg" 
   [scene]="sceneEdited"
   [layoutColSel]="layoutColSel"
   (click)="layoutColSelect($event)"
   (onHoverBanner)="onHoverBanner($event)"
   [router]="routerView">
  </app-layout-component>

  <app-banner-setting-panel cdkDrag 
	(changeItem)="onChangeItem($event)"
	(deleteBanner)="onDeleteBanner($event)"
	(onClose)="bannerSelectHover = null"
    *ngIf="bannerSelectHover" 
	[banner]="bannerSelectHover"
	[internalUrlList]="internalUrlList">
  </app-banner-setting-panel>
  
<!-- Panel Setting scene-->
<div *ngIf="showPanelTool === 'settings' && !tabMenuOver" class="general-setting-panel">
   <div class="close-tool" (click)="showPanelTool = null">
      <ion-icon slot="icon-only" name="close-outline"></ion-icon>
   </div>
   <ion-card class="scene-panel">
      <ion-card-header>
         <ion-card-title>Configuración de la Escena</ion-card-title>
      </ion-card-header>
      <ion-card-content>
         <ion-toolbar>
            <ion-buttons slot="start">
               <ion-card-subtitle> Icono de Menú </ion-card-subtitle>
            </ion-buttons>
            <ion-buttons slot="end">
               <ion-card-subtitle style="margin-top: -19px;" *ngIf="scene">
                  <select [(ngModel)]="scene.menuIcon" (change)="onChangeItem($event)" style="width: 168px;">
                  <option  *ngFor="let menuIcon of menuIcons" value="{{menuIcon}}">{{menuIcon}}</option>
                  </select>
                  <ion-icon class="ml-4" style="font-size: 30px;"  [name]="scene.menuIcon"></ion-icon>
               </ion-card-subtitle>
            </ion-buttons>
         </ion-toolbar>
         <ion-toolbar>
            <ion-buttons slot="start">
               <ion-card-subtitle> Título </ion-card-subtitle>
            </ion-buttons>
            <ion-buttons slot="end">
               <ion-card-subtitle>
                  <input class="mt-2 ml-2" type="text"  (change)="onChangeItem($event)" [(ngModel)]="scene.title"/> 
               </ion-card-subtitle>
            </ion-buttons>
         </ion-toolbar>
         <!--ion-toolbar>
            <ion-buttons slot="start">
               <ion-card-subtitle>Imagen de Fondo </ion-card-subtitle>
            </ion-buttons>
            <ion-buttons slot="end">
               <ion-card-subtitle>
                  <input class="mt-2 ml-2" type="text"   (change)="onChangeBackgroundStyle()"  [(ngModel)]="scene.url_image"/>
               </ion-card-subtitle>
            </ion-buttons>
         </ion-toolbar>
         <ion-toolbar>
            <ion-buttons slot="start">
               <ion-card-subtitle>Color de Fondo</ion-card-subtitle>
            </ion-buttons>
            <ion-buttons slot="end">
               <ion-label (click)="scene.backgroundColor = '';">Clear </ion-label>
               <ion-icon name="close-outline" (click)="bannerSelect.style.backgroundColor = '';">  </ion-icon>
               <ion-card-subtitle>
                  <input [ngStyle]="{'opacity': scene.backgroundColor == '' ? '0.5' : '1' }" class="mt-2 ml-2" type="color" [(ngModel)]="scene.backgroundColor" 
                  (change)="onChangeBackgroundStyle()" />
               </ion-card-subtitle>
            </ion-buttons>
         </ion-toolbar-->
         <ion-toolbar>
            <ion-buttons slot="start">
               <ion-card-subtitle> Mostrar en Menú? </ion-card-subtitle>
            </ion-buttons>
            <ion-buttons slot="end">
               <ion-card-subtitle>
                  <ion-chip [color]="scene.show ? 'primary' : ''" (click)="scene.show = !scene.show">
                  <ion-icon name="checkmark-circle"></ion-icon>
                  <ion-label>{{ scene.show ? 'Mostrar': 'No mostrar' }}</ion-label>
                  </ion-chip>
               </ion-card-subtitle>
            </ion-buttons>
         </ion-toolbar>
         <ion-toolbar *ngIf="sceneId">
            <ion-buttons slot="start">
               <ion-card-subtitle>
                  <ion-label color="danger">Borrar Escena</ion-label>
               </ion-card-subtitle>
            </ion-buttons>
            <ion-buttons slot="end">
               <ion-button (click)="onDeleteScene(sceneId)" color="danger">
                  <ion-icon slot="icon-only" name="trash-outline"></ion-icon>
               </ion-button>
            </ion-buttons>
         </ion-toolbar>
      </ion-card-content>
   </ion-card>
</div>


<!-- Panel Setting Layout-->
<div *ngIf="showPanelTool === 'settingsLayout' && !tabMenuOver" class="general-setting-panel">
   <div class="close-tool" (click)="showPanelTool = null">
      <ion-icon slot="icon-only" name="close-outline"></ion-icon>
   </div>
   <ion-card class="scene-panel">
      <ion-card-header>
         <ion-card-title>Configuración de la Columna</ion-card-title>
      </ion-card-header>
      <ion-card-content>
         <ion-toolbar>
            <ion-buttons slot="start">
               <ion-card-subtitle>Imagen de Fondo </ion-card-subtitle>
            </ion-buttons>
            <ion-buttons slot="end">
               <ion-card-subtitle>
                  <input class="mt-2 ml-2" type="text"   (change)="onChangeBackgroundStyle()"  [(ngModel)]="bannerSelect.styles.image.src"/>
               </ion-card-subtitle>
            </ion-buttons>
         </ion-toolbar>
         <ion-toolbar>
            <ion-buttons slot="start">
               <ion-card-subtitle>Color de Fondo</ion-card-subtitle>
            </ion-buttons>
            <ion-buttons slot="end">
               <ion-label (click)="scene.backgroundColor = '';">Clear </ion-label>
               <ion-icon name="close-outline" (click)="bannerSelect.backgroundColor = '';">  </ion-icon>
               <ion-card-subtitle>
                  <input [ngStyle]="{'opacity': scene.backgroundColor == '' ? '0.5' : '1' }" class="mt-2 ml-2" type="color" [(ngModel)]="scene.backgroundColor" 
                  (change)="onChangeBackgroundStyle()" />
               </ion-card-subtitle>
            </ion-buttons>
         </ion-toolbar>
         <ion-toolbar>
            <ion-buttons slot="start">
               <ion-card-subtitle>Agregar Fila interna</ion-card-subtitle>
            </ion-buttons>
            <ion-buttons slot="end">
               <ion-button (click)="onAddRowToColumn()">
                  <ion-icon slot="icon-only" name="add-circle-outline"></ion-icon>
               </ion-button>
            </ion-buttons>
         </ion-toolbar>         
		 <ion-toolbar>
            <ion-buttons slot="start">
               <ion-card-subtitle>
                  <ion-label color="danger">Borrar Columna</ion-label>
               </ion-card-subtitle>
            </ion-buttons>
            <ion-buttons slot="end">
               <ion-button (click)="onDeleteColumn()" color="danger">
                  <ion-icon slot="icon-only" name="trash-outline"></ion-icon>
               </ion-button>
            </ion-buttons>
         </ion-toolbar>
      </ion-card-content>
   </ion-card>
</div>

<!-- Panel AddBanners-->
<div *ngIf="showPanelTool === 'addBanners'  && !tabMenuOver" class="scene-setting-panel">
   <div class="close" (click)="showPanelTool = null">
      <ion-icon slot="icon-only" name="close-outline"></ion-icon>
   </div>
   <ion-card class="scene-panel">
      <ion-card-header>
         <ion-card-title><small>Agregar Forma</small></ion-card-title>
      </ion-card-header>
      <ion-card-content>
         <div class="d-flex">
            <div class="icon-panel-scene ml-2 p-2" (click)="addBanner('Banner');" cdkDrag>
               <ion-label slot="start"> Banner </ion-label>
               <ion-icon class="ml-2" style="font-size: 24px" name="browsers-outline"></ion-icon>
            </div>
            <div class="icon-panel-scene ml-2 p-2" (click)="addBanner('Text');">
               <ion-label slot="start"> Texto </ion-label>
               <ion-icon class="ml-2" style="font-size: 24px" name="text-outline"></ion-icon>
            </div>
            <div class="icon-panel-scene ml-2 p-2" (click)="addBanner('Image');">
               Imagen
               <ion-icon style="font-size: 24px" name="image-outline"></ion-icon>
            </div>
            <div class="icon-panel-scene ml-2 p-2" (click)="addBanner('Carrete');">
               Carrete
               <ion-icon style="font-size: 24px" name="albums-outline"></ion-icon>
            </div>
            <div class="icon-panel-scene ml-2 p-2" (click)="addBanner('Video');">
               Video
               <ion-icon style="font-size: 24px" name="videocam-outline"></ion-icon>
            </div>
         </div>
      </ion-card-content>
      <ion-card-header>
         <ion-card-title><small>Agregar Elemento</small></ion-card-title>
      </ion-card-header>
      <ion-card-content>
         <div class="d-flex">
            <div class="icon-panel-scene" (click)="addArrowLineCurve();">
               <div class="container-arrow--curve" >
                  <div class="arrow line-arrow-button">
                     <div class="arrow__body"></div>
                  </div>
               </div>
            </div>
            <div class="icon-panel-scene ml-2 p-2" (click)="addBanner('Título');">
               Título
               <ion-icon style="font-size: 24px" name="text-outline"></ion-icon>
            </div>
            <div class="icon-panel-scene ml-2 p-2" (click)="addBanner('Sub-Título');">
               Título
               <ion-icon style="font-size: 24px" name="text-outline"></ion-icon>
            </div>
         </div>
      </ion-card-content>
      <ion-card-header>
         <ion-card-title><small>Agregar Elemento</small></ion-card-title>
      </ion-card-header>
      <ion-card-content>
         <div class="d-flex">
            <div class="icon-panel-scene ml-2 p-2" (click)="addBanner('ProductCatalog');">
               <small>Productos</small>
               <ion-icon style="font-size: 24px" name="grid-outline"></ion-icon>
            </div>
            <div class="icon-panel-scene ml-2 p-2" style="font-size: 13px" (click)="addBanner('Contact');">
               <small>Contáctenos</small>
               <ion-icon style="font-size: 24px" name="list-outline"></ion-icon>
            </div>
            <div class="icon-panel-scene ml-2 p-2" style="font-size: 13px" (click)="addBanner('SpeakerCatalog');">
               <small>Conferencistas</small>
               <ion-icon style="font-size: 24px" name="people-outline"></ion-icon>
            </div>
         </div>
      </ion-card-content>
   </ion-card>
</div>

</ion-content>

